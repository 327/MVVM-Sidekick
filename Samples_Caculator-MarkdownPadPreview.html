<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Samples_Caculator.md</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
body{
    margin: 0 auto;
    font-family: Georgia, Palatino, serif;
    color: #444444;
    line-height: 1;
    max-width: 960px;
    padding: 5px;
}
h1, h2, h3, h4 {
    color: #111111;
    font-weight: 400;
}
h1, h2, h3, h4, h5, p {
    margin-bottom: 16px;
    padding: 0;
}
h1 {
    font-size: 28px;
}
h2 {
    font-size: 22px;
    margin: 20px 0 6px;
}
h3 {
    font-size: 21px;
}
h4 {
    font-size: 18px;
}
h5 {
    font-size: 16px;
}
a {
    color: #0099ff;
    margin: 0;
    padding: 0;
    vertical-align: baseline;
}
a:hover {
    text-decoration: none;
    color: #ff6600;
}
a:visited {
    color: purple;
}
ul, ol {
    padding: 0;
    margin: 0;
}
li {
    line-height: 24px;
    margin-left: 44px;
}
li ul, li ul {
    margin-left: 24px;
}
p, ul, ol {
    font-size: 14px;
    line-height: 20px;
    max-width: 540px;
}
pre {
    padding: 0px 24px;
    max-width: 800px;
    white-space: pre-wrap;
}
code {
    font-family: Consolas, Monaco, Andale Mono, monospace;
    line-height: 1.5;
    font-size: 13px;
}
aside {
    display: block;
    float: right;
    width: 390px;
}
blockquote {
    border-left:.5em solid #eee;
    padding: 0 2em;
    margin-left:0;
    max-width: 476px;
}
blockquote  cite {
    font-size:14px;
    line-height:20px;
    color:#bfbfbf;
}
blockquote cite:before {
    content: '\2014 \00A0';
}

blockquote p {  
    color: #666;
    max-width: 460px;
}
hr {
    width: 540px;
    text-align: left;
    margin: 0 auto 0 0;
    color: #999;
}

button,
input,
select,
textarea {
  font-size: 100%;
  margin: 0;
  vertical-align: baseline;
  *vertical-align: middle;
}
button, input {
  line-height: normal;
  *overflow: visible;
}
button::-moz-focus-inner, input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
button,
input[type="button"],
input[type="reset"],
input[type="submit"] {
  cursor: pointer;
  -webkit-appearance: button;
}
input[type=checkbox], input[type=radio] {
  cursor: pointer;
}
/* override default chrome & firefox settings */
input:not([type="image"]), textarea {
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}

input[type="search"] {
  -webkit-appearance: textfield;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
label,
input,
select,
textarea {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 13px;
  font-weight: normal;
  line-height: normal;
  margin-bottom: 18px;
}
input[type=checkbox], input[type=radio] {
  cursor: pointer;
  margin-bottom: 0;
}
input[type=text],
input[type=password],
textarea,
select {
  display: inline-block;
  width: 210px;
  padding: 4px;
  font-size: 13px;
  font-weight: normal;
  line-height: 18px;
  height: 18px;
  color: #808080;
  border: 1px solid #ccc;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
}
select, input[type=file] {
  height: 27px;
  line-height: 27px;
}
textarea {
  height: auto;
}

/* grey out placeholders */
:-moz-placeholder {
  color: #bfbfbf;
}
::-webkit-input-placeholder {
  color: #bfbfbf;
}

input[type=text],
input[type=password],
select,
textarea {
  -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;
  -moz-transition: border linear 0.2s, box-shadow linear 0.2s;
  transition: border linear 0.2s, box-shadow linear 0.2s;
  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}
input[type=text]:focus, input[type=password]:focus, textarea:focus {
  outline: none;
  border-color: rgba(82, 168, 236, 0.8);
  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);
  -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);
}

/* buttons */
button {
  display: inline-block;
  padding: 4px 14px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 13px;
  line-height: 18px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px;
  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
  -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
  background-color: #0064cd;
  background-repeat: repeat-x;
  background-image: -khtml-gradient(linear, left top, left bottom, from(#049cdb), to(#0064cd));
  background-image: -moz-linear-gradient(top, #049cdb, #0064cd);
  background-image: -ms-linear-gradient(top, #049cdb, #0064cd);
  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #049cdb), color-stop(100%, #0064cd));
  background-image: -webkit-linear-gradient(top, #049cdb, #0064cd);
  background-image: -o-linear-gradient(top, #049cdb, #0064cd);
  background-image: linear-gradient(top, #049cdb, #0064cd);
  color: #fff;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
  border: 1px solid #004b9a;
  border-bottom-color: #003f81;
  -webkit-transition: 0.1s linear all;
  -moz-transition: 0.1s linear all;
  transition: 0.1s linear all;
  border-color: #0064cd #0064cd #003f81;
  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);
}
button:hover {
  color: #fff;
  background-position: 0 -15px;
  text-decoration: none;
}
button:active {
  -webkit-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);
  -moz-box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 3px 7px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);
}
button::-moz-focus-inner {
  padding: 0;
  border: 0;
}

/* CSS stylesheet is based on Kevin Burke's Markdown.css project (http://kevinburke.bitbucket.org/markdowncss) */
</style>
</head>
<body>
<h1>Create a Caculator with MVVM-Sidekick Code File From nothing</h1>

<blockquote>
  <h1>从0开始,使用纯代码的MVVM-Sidekick建立一个计算器</h1>
</blockquote>

<p><em>Like JS frameworks,it is kinda cool to  have no dlls but framework code files in your project, cos if you guys wanna change anything you can do it in code immediatly, without compile and depoly,reference refreshment stuff. We provide a single code file for all platforms, easy to install and uninstall, just add it or delete in your projects.(Of course we provide nuget dll reference package too. )</em></p>

<blockquote>
  <p><em>和JS框架类似，作为一个前端框架，如果能够直接以代码文件而不是Dll引用的方式直接加入工程是挺酷的一件事。如果你有啥东东想要修改，直接在工程里改就齐了，不必开工程编译啊发布啊刷新引用啊，那么麻烦。我们提供了一个单独代码文件，直接将其加入你的工程就算安装了框架，删除了就算卸载，管理简单。(当然也有nuget的dll 引用 package)</em></p>
</blockquote>

<h2>Very first step: Create a empty project</h2>

<blockquote>
  <h2>千里跬步: 创建工程</h2>
</blockquote>

<h3>1 .Create a project of your target platform, add basic references, and set Conditional compilation symbols.</h3>

<blockquote>
  <h3>1 . 创建一个目标工程，添加基础引用，在工程中设置条件编译符号。</h3>
</blockquote>

<p><em>MVVM-Sidekick now supports Silverlight 5, Windows Phone 8, WPF 4.5, and Windows Runtime XAML. We only support C Sharp offically, but it is not that hard to intergrade to VB.</em></p>

<blockquote>
  <p><em>MVVM-Sidekick 现在支持的平台包括 Sliverlight 5, Windows Phone 8, WPF 4.5, 以及Windows Runtime Xaml程序。我们官方仅仅支持CSharp使用，但是根据我们的支持集成到VB也绝非难事</em></p>
</blockquote>

<table border="3" align="center">
<thead><td>Platform/平台 </td><td>Basic References/基础引用</td><td>Symbol/符号</td></thead>
<tr><td>Silverlight 5</td><td>
System.Runtime.Serialization<br/>
Microsoft.CSharp<br/>
System.Windows.Controls.Navigation
</td><td>SILVERLIGHT_5</td></tr>
<tr><td>WPF 4.5</td><td>System.Runtime.Serialization<br/></td><td>WPF</td></tr>
<tr><td>Windows Phone 8</td><td>System.Runtime.Serialization<br/></td><td>WINDOWS_PHONE_8</td></tr>
<tr><td>Windows RT XAML</td><td>-</td><td>NETCORE_FX</td></tr>
</table>

<p><center>
<img src="Images/Symbolsinput.png" alt="Input conditional compilation symbols &lt;HERE&gt;
在&lt;这里&gt;输入条件编译符号" /></p>

<p>Figure 1
<br/> Input conditional compilation symbols <HERE><br/>
在&lt;这里>输入条件编译符号
</center></p>

<h3>2 . [SL5] Add async await support to your project</h3>

<blockquote>
  <h3>2 . [SL5] 为工程添加 async await 关键字支持</h3>
</blockquote>

<p><em>In Silverlight 5 projects and Wpf 4.0,  async await key words are not supported by default because awaitable TPL class are newly added since .net 4.5. You can add support in vs2012 by nuget, instead.</em></p>

<blockquote>
  <p><em>在 Silverlight 5 或者 Wpf 4.0工程里, VS并不默认支持 async await 关键字，这是因为TPL的awaitable 类型支持是在.net 4.5新加入的. 作为替代，你可以用nuget来为你的SL5工程添加这种支持.</em></p>
</blockquote>

<p><strong>Open :<code>VS Menu-&gt; TOOLS-&gt;Libary Package Manager -&gt;Manage Nuget Packages For Solution</code></strong></p>

<p><strong>Search &amp; Install:<code>Online:Microsoft.CompilerService.Async</code></strong></p>

<p><strong>Click Manage :<code>Installed packages, All:Microsoft.CompilerService.Async</code></strong>
<center>
<img src="Images/AddAsyncAwait0.png" alt="" /><br/>
Figure 2. Add nuget package, </p>

<p><img src="Images/AddAsyncAwait.png" alt="" /><br/>
Figure 3. Target project of async support.
</center></p>

<h3>3 .  Add RX to your project</h3>

<blockquote>
  <h3>3 . 为工程添加 RX 支持</h3>
</blockquote>

<p><strong>Open :<code>VS Menu-&gt; TOOLS-&gt;Libary Package Manager -&gt;Manage Nuget Packages For Solution</code></strong></p>

<p><strong>Search &amp; Install:<code>Online:Rx-Main</code></strong></p>

<p><strong>Click Manage :<code>Installed packages, All: Rx-Main</code></strong>
<center>
<img src="Images/AddRx0.png" alt="" /><br/>
Figure 4. Add nuget package, Rx-Main</p>

<p><img src="Images/AddRx1.png" alt="" /><br/>
Figure 5. Target projects of Rx .
</center></p>

<h3>4 .  Add MVVM.cs To your project.</h3>

<blockquote>
  <h3>4 . 为工程添加 MVVM.cs</h3>
</blockquote>

<p><strong>Open :<code>VS Menu-&gt; PROJECT-&gt;Add Existing Item -&gt;MVVM.cs(Add as Link)</code></strong></p>

<h3>5 .  Try Build your Project.</h3>

<blockquote>
  <h3>5 . 尝试编译你的项目</h3>
</blockquote>

<h2>Second step: Create entrance View &amp; View Model</h2>

<blockquote>
  <h2>第二步: 创建总视图与视图模型</h2>
</blockquote>

<h3>1 .  Create empty View Model</h3>

<blockquote>
  <h3>1 . 创建空白的视图模型</h3>
</blockquote>

<p><strong><code>VS Menu-&gt; PROJECT-&gt;New Folder-&gt;Set Name:ViewModels</code></strong></p>

<p><strong><code>VS Menu-&gt; PROJECT-&gt;Add New Item-&gt;Class -&gt;Set Name:Index_Model</code></strong></p>

<p><em>Usually all the View Models in different platforms can be same, it is possiable to add one new View Model class file in Samples_ViewModels.csproj and add it as link to other projects. Some platform sepific API or logic can be written and orgnazined in the same file with contitional compliation symbols .</em></p>

<blockquote>
  <p><em>大多数情况，对应不同平台的视图模型有可能是完全一样的，我们把这样的视图模型放在一个工程，在其他工程中按照链接添加代码文件是可行的。对于平台特有的API和逻辑，我们可以用条件编译符号组织它们。</em></p>
</blockquote>

<p><center>
<img src="Images/AddEmptyModel.png" alt="" /><br/>
Figure 6. Add View Model class as link.
</center></p>

<h3>2 .  Modify View Model class to MVVM-Sidekick View Model</h3>

<blockquote>
  <h3>2 . 将添加的视图模型修改为MVVM-Sidekick模型</h3>
</blockquote>

<p>Change old code</p>

<pre>
<code>
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Samples.ViewModels
{
    public class Index_Model
    { 
    }
}
</code>
</pre>

<p>To new code</p>

<pre>
<code>
using MVVMSidekick.ViewModels;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Samples.ViewModels
{
    public class Index_Model : ViewModelBase &lt;Index_Model&gt;
    {
    }    
}

</code>
</pre>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->